!function(){"use strict";console.log("im menu js");var e=document.querySelector(".menu-substrate"),t=document.body;function n(n){document.documentElement.scrollWidth>960.98||n.target.dataset.hasOwnProperty("toclosemenu")&&(t.style.overflowY="auto",e.classList.toggle("open"))}document.querySelector(".menu__btn").addEventListener("click",(function(n){n.preventDefault(),e.classList.toggle("open"),setTimeout((function(){t.style.overflowY="hidden"}),230)})),document.querySelector(".menu-substrate__icon-close").addEventListener("click",n),document.querySelector("#idPopupMenu").addEventListener("click",n);var o,c,i=document.querySelectorAll("[data-menu_anchor]"),u=i.length,l=document.getElementById("idMainMenu"),r=[];function s(){c||(i.forEach((function(e){for(var t=e.id,n=0,o=l.children.length;n<o;n++)if(l.children[n].firstElementChild.href.split("#")[1]===t){r.push(l.children[n].firstElementChild);break}})),c=setTimeout((function(){c=void 0}),100))}function d(){var e=document.documentElement.clientHeight+document.documentElement.scrollTop;i.forEach((function(t,n){var o=t.offsetTop+220,c=i[n+1]&&i[n+1].offsetTop+220;e>o&&(e<=c||n===u-1)?r[n].classList.add("active"):r[n].classList.remove("active")}))}s(),window.addEventListener("resize",s),window.addEventListener("scroll",(function(e){o||(setTimeout(d,500),o=setTimeout((function(){o=void 0}),100))}))}();
!function(){"use strict";console.log("im menu js");var e=document.querySelector(".menu-substrate"),t=document.body;function n(n){document.documentElement.scrollWidth>960.98||n.target.dataset.hasOwnProperty("toclosemenu")&&(t.style.overflowY="auto",e.classList.toggle("open"))}document.querySelector(".menu__btn").addEventListener("click",(function(n){n.preventDefault(),e.classList.toggle("open"),setTimeout((function(){t.style.overflowY="hidden"}),230)})),document.querySelector(".menu-substrate__icon-close").addEventListener("click",n),document.querySelector("#idPopupMenu").addEventListener("click",n),window.addEventListener("resize",(function(){t.style.overflowY="auto",e.classList.remove("open")}));var o,i,c=document.querySelectorAll("[data-menu_anchor]"),s=c.length,u=document.getElementById("idMainMenu"),l=[];function r(){i||(c.forEach((function(e){for(var t=e.id,n=0,o=u.children.length;n<o;n++)if(u.children[n].firstElementChild.href.split("#")[1]===t){l.push(u.children[n].firstElementChild);break}})),i=setTimeout((function(){i=void 0}),100))}function d(){var e=document.documentElement.clientHeight+document.documentElement.scrollTop;c.forEach((function(t,n){var o=t.offsetTop+220,i=c[n+1]&&c[n+1].offsetTop+220;e>o&&(e<=i||n===s-1)?l[n].classList.add("active"):l[n].classList.remove("active")}))}r(),window.addEventListener("resize",r),window.addEventListener("scroll",(function(e){o||(setTimeout(d,500),o=setTimeout((function(){o=void 0}),100))}))}();